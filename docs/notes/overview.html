<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Data-first: Telling stories with data and quantitative analysis in R</title>
  <meta name="description" content="Data-first: Telling stories with data and quantitative analysis in R" />
  <meta name="generator" content="bookdown 0.17 and GitBook 2.6.7" />

  <meta property="og:title" content="Data-first: Telling stories with data and quantitative analysis in R" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Data-first: Telling stories with data and quantitative analysis in R" />
  
  
  

<meta name="author" content="Rohan Alexander" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  

<link rel="next" href="r-lab-getting-started.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="overview.html"><a href="overview.html"><i class="fa fa-check"></i><b>1</b> Overview</a><ul>
<li class="chapter" data-level="1.1" data-path="overview.html"><a href="overview.html#on-telling-stories"><i class="fa fa-check"></i><b>1.1</b> On telling stories</a></li>
<li class="chapter" data-level="1.2" data-path="overview.html"><a href="overview.html#these-notes"><i class="fa fa-check"></i><b>1.2</b> These notes</a></li>
<li class="chapter" data-level="1.3" data-path="overview.html"><a href="overview.html#contact"><i class="fa fa-check"></i><b>1.3</b> Contact</a></li>
<li class="chapter" data-level="1.4" data-path="overview.html"><a href="overview.html#todos"><i class="fa fa-check"></i><b>1.4</b> TODOs</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="r-lab-getting-started.html"><a href="r-lab-getting-started.html"><i class="fa fa-check"></i><b>2</b> R Lab - Getting started</a><ul>
<li class="chapter" data-level="2.1" data-path="r-lab-getting-started.html"><a href="r-lab-getting-started.html#introduction"><i class="fa fa-check"></i><b>2.1</b> Introduction</a></li>
<li class="chapter" data-level="2.2" data-path="r-lab-getting-started.html"><a href="r-lab-getting-started.html#tidyverse"><i class="fa fa-check"></i><b>2.2</b> Tidyverse</a><ul>
<li class="chapter" data-level="2.2.1" data-path="r-lab-getting-started.html"><a href="r-lab-getting-started.html#the-pipe"><i class="fa fa-check"></i><b>2.2.1</b> The pipe</a></li>
<li class="chapter" data-level="2.2.2" data-path="r-lab-getting-started.html"><a href="r-lab-getting-started.html#select"><i class="fa fa-check"></i><b>2.2.2</b> Select</a></li>
<li class="chapter" data-level="2.2.3" data-path="r-lab-getting-started.html"><a href="r-lab-getting-started.html#filter"><i class="fa fa-check"></i><b>2.2.3</b> Filter</a></li>
<li class="chapter" data-level="2.2.4" data-path="r-lab-getting-started.html"><a href="r-lab-getting-started.html#arrange"><i class="fa fa-check"></i><b>2.2.4</b> Arrange</a></li>
<li class="chapter" data-level="2.2.5" data-path="r-lab-getting-started.html"><a href="r-lab-getting-started.html#group_by"><i class="fa fa-check"></i><b>2.2.5</b> group_by</a></li>
<li class="chapter" data-level="2.2.6" data-path="r-lab-getting-started.html"><a href="r-lab-getting-started.html#mutate"><i class="fa fa-check"></i><b>2.2.6</b> Mutate</a></li>
<li class="chapter" data-level="2.2.7" data-path="r-lab-getting-started.html"><a href="r-lab-getting-started.html#summarise"><i class="fa fa-check"></i><b>2.2.7</b> Summarise</a></li>
<li class="chapter" data-level="2.2.8" data-path="r-lab-getting-started.html"><a href="r-lab-getting-started.html#counting-by-group"><i class="fa fa-check"></i><b>2.2.8</b> Counting by group</a></li>
<li class="chapter" data-level="2.2.9" data-path="r-lab-getting-started.html"><a href="r-lab-getting-started.html#calculate-proportions"><i class="fa fa-check"></i><b>2.2.9</b> Calculate proportions</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="r-lab-getting-started.html"><a href="r-lab-getting-started.html#ggplot"><i class="fa fa-check"></i><b>2.3</b> ggplot</a><ul>
<li class="chapter" data-level="2.3.1" data-path="r-lab-getting-started.html"><a href="r-lab-getting-started.html#main-features"><i class="fa fa-check"></i><b>2.3.1</b> Main features</a></li>
<li class="chapter" data-level="2.3.2" data-path="r-lab-getting-started.html"><a href="r-lab-getting-started.html#facets"><i class="fa fa-check"></i><b>2.3.2</b> Facets</a></li>
<li class="chapter" data-level="2.3.3" data-path="r-lab-getting-started.html"><a href="r-lab-getting-started.html#small-things"><i class="fa fa-check"></i><b>2.3.3</b> Small things</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="r-lab-getting-started.html"><a href="r-lab-getting-started.html#other"><i class="fa fa-check"></i><b>2.4</b> Other</a><ul>
<li class="chapter" data-level="2.4.1" data-path="r-lab-getting-started.html"><a href="r-lab-getting-started.html#case_when"><i class="fa fa-check"></i><b>2.4.1</b> case_when</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="case-study-the-2019-canadian-federal-election.html"><a href="case-study-the-2019-canadian-federal-election.html"><i class="fa fa-check"></i><b>3</b> Case study - The 2019 Canadian Federal Election</a><ul>
<li class="chapter" data-level="3.1" data-path="case-study-the-2019-canadian-federal-election.html"><a href="case-study-the-2019-canadian-federal-election.html#introduction-1"><i class="fa fa-check"></i><b>3.1</b> Introduction</a></li>
<li class="chapter" data-level="3.2" data-path="case-study-the-2019-canadian-federal-election.html"><a href="case-study-the-2019-canadian-federal-election.html#create-a-graph-based-on-the-2019-canadian-federal-election"><i class="fa fa-check"></i><b>3.2</b> Create a graph based on the 2019 Canadian Federal election</a><ul>
<li class="chapter" data-level="3.2.1" data-path="case-study-the-2019-canadian-federal-election.html"><a href="case-study-the-2019-canadian-federal-election.html#getting-started"><i class="fa fa-check"></i><b>3.2.1</b> Getting started</a></li>
<li class="chapter" data-level="3.2.2" data-path="case-study-the-2019-canadian-federal-election.html"><a href="case-study-the-2019-canadian-federal-election.html#reading-in-the-data"><i class="fa fa-check"></i><b>3.2.2</b> Reading in the data</a></li>
<li class="chapter" data-level="3.2.3" data-path="case-study-the-2019-canadian-federal-election.html"><a href="case-study-the-2019-canadian-federal-election.html#clean-the-data"><i class="fa fa-check"></i><b>3.2.3</b> Clean the data</a></li>
<li class="chapter" data-level="3.2.4" data-path="case-study-the-2019-canadian-federal-election.html"><a href="case-study-the-2019-canadian-federal-election.html#make-a-graph"><i class="fa fa-check"></i><b>3.2.4</b> Make a graph</a></li>
<li class="chapter" data-level="3.2.5" data-path="case-study-the-2019-canadian-federal-election.html"><a href="case-study-the-2019-canadian-federal-election.html#make-a-table"><i class="fa fa-check"></i><b>3.2.5</b> Make a table</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="communication.html"><a href="communication.html"><i class="fa fa-check"></i><b>4</b> Communication</a><ul>
<li class="chapter" data-level="4.1" data-path="communication.html"><a href="communication.html#introduction-2"><i class="fa fa-check"></i><b>4.1</b> Introduction</a></li>
<li class="chapter" data-level="4.2" data-path="communication.html"><a href="communication.html#title-abstract-and-introduction"><i class="fa fa-check"></i><b>4.2</b> Title, abstract, and introduction</a></li>
<li class="chapter" data-level="4.3" data-path="communication.html"><a href="communication.html#figures-tables-equations-and-technical-terms"><i class="fa fa-check"></i><b>4.3</b> Figures, tables, equations, and technical terms</a></li>
<li class="chapter" data-level="4.4" data-path="communication.html"><a href="communication.html#on-brevity"><i class="fa fa-check"></i><b>4.4</b> On brevity</a></li>
<li class="chapter" data-level="4.5" data-path="communication.html"><a href="communication.html#other-1"><i class="fa fa-check"></i><b>4.5</b> Other</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="r-lab-using-r-in-practice.html"><a href="r-lab-using-r-in-practice.html"><i class="fa fa-check"></i><b>5</b> R Lab - Using R in practice</a><ul>
<li class="chapter" data-level="5.1" data-path="r-lab-using-r-in-practice.html"><a href="r-lab-using-r-in-practice.html#introduction-3"><i class="fa fa-check"></i><b>5.1</b> Introduction</a></li>
<li class="chapter" data-level="5.2" data-path="r-lab-using-r-in-practice.html"><a href="r-lab-using-r-in-practice.html#getting-help"><i class="fa fa-check"></i><b>5.2</b> Getting help</a></li>
<li class="chapter" data-level="5.3" data-path="r-lab-using-r-in-practice.html"><a href="r-lab-using-r-in-practice.html#mentality"><i class="fa fa-check"></i><b>5.3</b> Mentality</a></li>
<li class="chapter" data-level="5.4" data-path="r-lab-using-r-in-practice.html"><a href="r-lab-using-r-in-practice.html#style"><i class="fa fa-check"></i><b>5.4</b> Style</a></li>
<li class="chapter" data-level="5.5" data-path="r-lab-using-r-in-practice.html"><a href="r-lab-using-r-in-practice.html#learning-more"><i class="fa fa-check"></i><b>5.5</b> Learning more</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="ethics.html"><a href="ethics.html"><i class="fa fa-check"></i><b>6</b> Ethics</a><ul>
<li class="chapter" data-level="6.1" data-path="ethics.html"><a href="ethics.html#introduction-4"><i class="fa fa-check"></i><b>6.1</b> Introduction</a></li>
<li class="chapter" data-level="6.2" data-path="ethics.html"><a href="ethics.html#questiontask"><i class="fa fa-check"></i><b>6.2</b> Question/task</a></li>
<li class="chapter" data-level="6.3" data-path="ethics.html"><a href="ethics.html#data"><i class="fa fa-check"></i><b>6.3</b> Data</a></li>
<li class="chapter" data-level="6.4" data-path="ethics.html"><a href="ethics.html#model"><i class="fa fa-check"></i><b>6.4</b> Model</a></li>
<li class="chapter" data-level="6.5" data-path="ethics.html"><a href="ethics.html#team"><i class="fa fa-check"></i><b>6.5</b> Team</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="reproducibility.html"><a href="reproducibility.html"><i class="fa fa-check"></i><b>7</b> Reproducibility</a><ul>
<li class="chapter" data-level="7.1" data-path="reproducibility.html"><a href="reproducibility.html#introduction-5"><i class="fa fa-check"></i><b>7.1</b> Introduction</a></li>
<li class="chapter" data-level="7.2" data-path="reproducibility.html"><a href="reproducibility.html#data-access"><i class="fa fa-check"></i><b>7.2</b> Data access</a></li>
<li class="chapter" data-level="7.3" data-path="reproducibility.html"><a href="reproducibility.html#on-mistakes"><i class="fa fa-check"></i><b>7.3</b> On mistakes</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="r-lab-r-markdown-and-r-projects.html"><a href="r-lab-r-markdown-and-r-projects.html"><i class="fa fa-check"></i><b>8</b> R Lab - R Markdown and R Projects</a><ul>
<li class="chapter" data-level="8.1" data-path="r-lab-r-markdown-and-r-projects.html"><a href="r-lab-r-markdown-and-r-projects.html#r-markdown"><i class="fa fa-check"></i><b>8.1</b> R Markdown</a><ul>
<li class="chapter" data-level="8.1.1" data-path="r-lab-r-markdown-and-r-projects.html"><a href="r-lab-r-markdown-and-r-projects.html#getting-started-1"><i class="fa fa-check"></i><b>8.1.1</b> Getting started</a></li>
<li class="chapter" data-level="8.1.2" data-path="r-lab-r-markdown-and-r-projects.html"><a href="r-lab-r-markdown-and-r-projects.html#basic-commands"><i class="fa fa-check"></i><b>8.1.2</b> Basic commands</a></li>
<li class="chapter" data-level="8.1.3" data-path="r-lab-r-markdown-and-r-projects.html"><a href="r-lab-r-markdown-and-r-projects.html#r-chunks"><i class="fa fa-check"></i><b>8.1.3</b> R chunks</a></li>
<li class="chapter" data-level="8.1.4" data-path="r-lab-r-markdown-and-r-projects.html"><a href="r-lab-r-markdown-and-r-projects.html#abstracts-and-pdf-outputs"><i class="fa fa-check"></i><b>8.1.4</b> Abstracts and PDF outputs</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="r-lab-r-markdown-and-r-projects.html"><a href="r-lab-r-markdown-and-r-projects.html#r-projects"><i class="fa fa-check"></i><b>8.2</b> R projects</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="case-study-ttc-subway-delays.html"><a href="case-study-ttc-subway-delays.html"><i class="fa fa-check"></i><b>9</b> Case study - TTC Subway Delays</a><ul>
<li class="chapter" data-level="9.1" data-path="case-study-ttc-subway-delays.html"><a href="case-study-ttc-subway-delays.html#introduction-6"><i class="fa fa-check"></i><b>9.1</b> Introduction</a><ul>
<li class="chapter" data-level="9.1.1" data-path="case-study-ttc-subway-delays.html"><a href="case-study-ttc-subway-delays.html#prerequesites"><i class="fa fa-check"></i><b>9.1.1</b> Prerequesites</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="case-study-ttc-subway-delays.html"><a href="case-study-ttc-subway-delays.html#finding-and-downloading-data-using-opendatatoronto"><i class="fa fa-check"></i><b>9.2</b> Finding and downloading data using <code>opendatatoronto</code></a><ul>
<li class="chapter" data-level="9.2.1" data-path="case-study-ttc-subway-delays.html"><a href="case-study-ttc-subway-delays.html#finding-the-data"><i class="fa fa-check"></i><b>9.2.1</b> Finding the data</a></li>
<li class="chapter" data-level="9.2.2" data-path="case-study-ttc-subway-delays.html"><a href="case-study-ttc-subway-delays.html#retrieving-the-data"><i class="fa fa-check"></i><b>9.2.2</b> Retrieving the data</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="case-study-ttc-subway-delays.html"><a href="case-study-ttc-subway-delays.html#plotting"><i class="fa fa-check"></i><b>9.3</b> Plotting</a><ul>
<li class="chapter" data-level="9.3.1" data-path="case-study-ttc-subway-delays.html"><a href="case-study-ttc-subway-delays.html#example-1-delays-by-line"><i class="fa fa-check"></i><b>9.3.1</b> Example 1: Delays by line</a></li>
<li class="chapter" data-level="9.3.2" data-path="case-study-ttc-subway-delays.html"><a href="case-study-ttc-subway-delays.html#example-2-delays-by-time-of-day"><i class="fa fa-check"></i><b>9.3.2</b> Example 2: Delays by time of day</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="developing-research-questions-and-gathering-data.html"><a href="developing-research-questions-and-gathering-data.html"><i class="fa fa-check"></i><b>10</b> Developing research questions and gathering data</a><ul>
<li class="chapter" data-level="10.1" data-path="developing-research-questions-and-gathering-data.html"><a href="developing-research-questions-and-gathering-data.html#developing-research-questions"><i class="fa fa-check"></i><b>10.1</b> Developing research questions</a></li>
<li class="chapter" data-level="10.2" data-path="developing-research-questions-and-gathering-data.html"><a href="developing-research-questions-and-gathering-data.html#gathering-data"><i class="fa fa-check"></i><b>10.2</b> Gathering data</a><ul>
<li class="chapter" data-level="10.2.1" data-path="developing-research-questions-and-gathering-data.html"><a href="developing-research-questions-and-gathering-data.html#deliberately-available"><i class="fa fa-check"></i><b>10.2.1</b> Deliberately available</a></li>
<li class="chapter" data-level="10.2.2" data-path="developing-research-questions-and-gathering-data.html"><a href="developing-research-questions-and-gathering-data.html#by-product"><i class="fa fa-check"></i><b>10.2.2</b> By product</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="case-study-gathering-and-tidying-data-from-paspaley.html"><a href="case-study-gathering-and-tidying-data-from-paspaley.html"><i class="fa fa-check"></i><b>11</b> Case study - Gathering and tidying data from Paspaley</a><ul>
<li class="chapter" data-level="11.1" data-path="case-study-gathering-and-tidying-data-from-paspaley.html"><a href="case-study-gathering-and-tidying-data-from-paspaley.html#introduction-7"><i class="fa fa-check"></i><b>11.1</b> Introduction</a></li>
<li class="chapter" data-level="11.2" data-path="case-study-gathering-and-tidying-data-from-paspaley.html"><a href="case-study-gathering-and-tidying-data-from-paspaley.html#data-acquisition"><i class="fa fa-check"></i><b>11.2</b> Data acquisition</a></li>
<li class="chapter" data-level="11.3" data-path="case-study-gathering-and-tidying-data-from-paspaley.html"><a href="case-study-gathering-and-tidying-data-from-paspaley.html#data-cleaning"><i class="fa fa-check"></i><b>11.3</b> Data cleaning</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html"><i class="fa fa-check"></i><b>12</b> Exploratory data analysis</a><ul>
<li class="chapter" data-level="12.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#a-note-on-packages"><i class="fa fa-check"></i><b>12.1</b> A note on packages</a></li>
<li class="chapter" data-level="12.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#ttc-subway-delays"><i class="fa fa-check"></i><b>12.2</b> TTC subway delays</a></li>
<li class="chapter" data-level="12.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#eda-and-data-viz"><i class="fa fa-check"></i><b>12.3</b> EDA and data viz</a></li>
<li class="chapter" data-level="12.4" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#data-checks"><i class="fa fa-check"></i><b>12.4</b> Data checks</a><ul>
<li class="chapter" data-level="12.4.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#sanity-checks"><i class="fa fa-check"></i><b>12.4.1</b> Sanity Checks</a></li>
<li class="chapter" data-level="12.4.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#missing-values"><i class="fa fa-check"></i><b>12.4.2</b> Missing values</a></li>
<li class="chapter" data-level="12.4.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#duplicates"><i class="fa fa-check"></i><b>12.4.3</b> Duplicates?</a></li>
<li class="chapter" data-level="12.4.4" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#visualizing-distributions"><i class="fa fa-check"></i><b>12.4.4</b> Visualizing distributions</a></li>
<li class="chapter" data-level="12.4.5" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#visualizing-time-series"><i class="fa fa-check"></i><b>12.4.5</b> Visualizing time series</a></li>
<li class="chapter" data-level="12.4.6" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#visualizing-relationships"><i class="fa fa-check"></i><b>12.4.6</b> Visualizing relationships</a></li>
<li class="chapter" data-level="12.4.7" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#pca"><i class="fa fa-check"></i><b>12.4.7</b> PCA</a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#exercises"><i class="fa fa-check"></i><b>12.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="linear-regression.html"><a href="linear-regression.html"><i class="fa fa-check"></i><b>13</b> Linear regression</a><ul>
<li class="chapter" data-level="13.1" data-path="linear-regression.html"><a href="linear-regression.html#introduction-8"><i class="fa fa-check"></i><b>13.1</b> Introduction</a></li>
<li class="chapter" data-level="13.2" data-path="linear-regression.html"><a href="linear-regression.html#competing-relationships"><i class="fa fa-check"></i><b>13.2</b> Competing relationships</a></li>
<li class="chapter" data-level="13.3" data-path="linear-regression.html"><a href="linear-regression.html#implementing-this-in-r"><i class="fa fa-check"></i><b>13.3</b> Implementing this in R</a></li>
<li class="chapter" data-level="13.4" data-path="linear-regression.html"><a href="linear-regression.html#tidy-up-with-broom"><i class="fa fa-check"></i><b>13.4</b> Tidy up with broom</a></li>
<li class="chapter" data-level="13.5" data-path="linear-regression.html"><a href="linear-regression.html#testing-hypothesis"><i class="fa fa-check"></i><b>13.5</b> Testing hypothesis</a></li>
<li class="chapter" data-level="13.6" data-path="linear-regression.html"><a href="linear-regression.html#adding-more-and-varied-explanatory-variables"><i class="fa fa-check"></i><b>13.6</b> Adding more and varied explanatory variables</a></li>
<li class="chapter" data-level="13.7" data-path="linear-regression.html"><a href="linear-regression.html#threats-to-validity-and-aspects-to-think-about"><i class="fa fa-check"></i><b>13.7</b> Threats to validity and aspects to think about</a></li>
<li class="chapter" data-level="13.8" data-path="linear-regression.html"><a href="linear-regression.html#more-credible-outputs"><i class="fa fa-check"></i><b>13.8</b> More credible outputs</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="case-study-opinions-about-a-casino-in-toronto.html"><a href="case-study-opinions-about-a-casino-in-toronto.html"><i class="fa fa-check"></i><b>14</b> Case study - Opinions about a casino in Toronto</a><ul>
<li class="chapter" data-level="14.1" data-path="case-study-opinions-about-a-casino-in-toronto.html"><a href="case-study-opinions-about-a-casino-in-toronto.html#data-preparation"><i class="fa fa-check"></i><b>14.1</b> Data preparation</a><ul>
<li class="chapter" data-level="14.1.1" data-path="case-study-opinions-about-a-casino-in-toronto.html"><a href="case-study-opinions-about-a-casino-in-toronto.html#getting-data-from-opendatatoronto"><i class="fa fa-check"></i><b>14.1.1</b> Getting data from <code>opendatatoronto</code></a></li>
<li class="chapter" data-level="14.1.2" data-path="case-study-opinions-about-a-casino-in-toronto.html"><a href="case-study-opinions-about-a-casino-in-toronto.html#getting-the-right-kind-of-object"><i class="fa fa-check"></i><b>14.1.2</b> Getting the right kind of object</a></li>
<li class="chapter" data-level="14.1.3" data-path="case-study-opinions-about-a-casino-in-toronto.html"><a href="case-study-opinions-about-a-casino-in-toronto.html#cleaning-up-the-dataframe"><i class="fa fa-check"></i><b>14.1.3</b> Cleaning up the dataframe</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="case-study-opinions-about-a-casino-in-toronto.html"><a href="case-study-opinions-about-a-casino-in-toronto.html#some-visual-exploration-and-more-cleanup-of-course"><i class="fa fa-check"></i><b>14.2</b> Some visual exploration (and more cleanup, of course)</a><ul>
<li class="chapter" data-level="14.2.1" data-path="case-study-opinions-about-a-casino-in-toronto.html"><a href="case-study-opinions-about-a-casino-in-toronto.html#getting-the-data-into-a-more-model-suitable-format"><i class="fa fa-check"></i><b>14.2.1</b> Getting the data into a more model-suitable format</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="case-study-opinions-about-a-casino-in-toronto.html"><a href="case-study-opinions-about-a-casino-in-toronto.html#logistic-regression"><i class="fa fa-check"></i><b>14.3</b> Logistic Regression</a><ul>
<li class="chapter" data-level="14.3.1" data-path="case-study-opinions-about-a-casino-in-toronto.html"><a href="case-study-opinions-about-a-casino-in-toronto.html#interpretation"><i class="fa fa-check"></i><b>14.3.1</b> Interpretation</a></li>
<li class="chapter" data-level="14.3.2" data-path="case-study-opinions-about-a-casino-in-toronto.html"><a href="case-study-opinions-about-a-casino-in-toronto.html#baseline-category"><i class="fa fa-check"></i><b>14.3.2</b> Baseline category</a></li>
<li class="chapter" data-level="14.3.3" data-path="case-study-opinions-about-a-casino-in-toronto.html"><a href="case-study-opinions-about-a-casino-in-toronto.html#making-estimates"><i class="fa fa-check"></i><b>14.3.3</b> Making estimates</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="case-study-airbnb-listing-in-toronto.html"><a href="case-study-airbnb-listing-in-toronto.html"><i class="fa fa-check"></i><b>15</b> Case study - Airbnb listing in Toronto</a><ul>
<li class="chapter" data-level="15.1" data-path="case-study-airbnb-listing-in-toronto.html"><a href="case-study-airbnb-listing-in-toronto.html#essentials"><i class="fa fa-check"></i><b>15.1</b> Essentials</a></li>
<li class="chapter" data-level="15.2" data-path="case-study-airbnb-listing-in-toronto.html"><a href="case-study-airbnb-listing-in-toronto.html#set-up"><i class="fa fa-check"></i><b>15.2</b> Set up</a></li>
<li class="chapter" data-level="15.3" data-path="case-study-airbnb-listing-in-toronto.html"><a href="case-study-airbnb-listing-in-toronto.html#get-data"><i class="fa fa-check"></i><b>15.3</b> Get data</a></li>
<li class="chapter" data-level="15.4" data-path="case-study-airbnb-listing-in-toronto.html"><a href="case-study-airbnb-listing-in-toronto.html#clean-data"><i class="fa fa-check"></i><b>15.4</b> Clean data</a><ul>
<li class="chapter" data-level="15.4.1" data-path="case-study-airbnb-listing-in-toronto.html"><a href="case-study-airbnb-listing-in-toronto.html#price"><i class="fa fa-check"></i><b>15.4.1</b> Price</a></li>
<li class="chapter" data-level="15.4.2" data-path="case-study-airbnb-listing-in-toronto.html"><a href="case-study-airbnb-listing-in-toronto.html#superhosts"><i class="fa fa-check"></i><b>15.4.2</b> Superhosts</a></li>
<li class="chapter" data-level="15.4.3" data-path="case-study-airbnb-listing-in-toronto.html"><a href="case-study-airbnb-listing-in-toronto.html#reviews"><i class="fa fa-check"></i><b>15.4.3</b> Reviews</a></li>
<li class="chapter" data-level="15.4.4" data-path="case-study-airbnb-listing-in-toronto.html"><a href="case-study-airbnb-listing-in-toronto.html#response-time"><i class="fa fa-check"></i><b>15.4.4</b> Response time</a></li>
<li class="chapter" data-level="15.4.5" data-path="case-study-airbnb-listing-in-toronto.html"><a href="case-study-airbnb-listing-in-toronto.html#host-number-of-listings"><i class="fa fa-check"></i><b>15.4.5</b> Host number of listings</a></li>
<li class="chapter" data-level="15.4.6" data-path="case-study-airbnb-listing-in-toronto.html"><a href="case-study-airbnb-listing-in-toronto.html#decisions"><i class="fa fa-check"></i><b>15.4.6</b> Decisions</a></li>
</ul></li>
<li class="chapter" data-level="15.5" data-path="case-study-airbnb-listing-in-toronto.html"><a href="case-study-airbnb-listing-in-toronto.html#explore-data"><i class="fa fa-check"></i><b>15.5</b> Explore data</a><ul>
<li class="chapter" data-level="15.5.1" data-path="case-study-airbnb-listing-in-toronto.html"><a href="case-study-airbnb-listing-in-toronto.html#price-and-reviews"><i class="fa fa-check"></i><b>15.5.1</b> Price and reviews</a></li>
<li class="chapter" data-level="15.5.2" data-path="case-study-airbnb-listing-in-toronto.html"><a href="case-study-airbnb-listing-in-toronto.html#superhost-and-response-time"><i class="fa fa-check"></i><b>15.5.2</b> Superhost and response-time</a></li>
<li class="chapter" data-level="15.5.3" data-path="case-study-airbnb-listing-in-toronto.html"><a href="case-study-airbnb-listing-in-toronto.html#neighbourhood"><i class="fa fa-check"></i><b>15.5.3</b> Neighbourhood</a></li>
</ul></li>
<li class="chapter" data-level="15.6" data-path="case-study-airbnb-listing-in-toronto.html"><a href="case-study-airbnb-listing-in-toronto.html#model-data"><i class="fa fa-check"></i><b>15.6</b> Model data</a><ul>
<li class="chapter" data-level="15.6.1" data-path="case-study-airbnb-listing-in-toronto.html"><a href="case-study-airbnb-listing-in-toronto.html#logistic-regression-1"><i class="fa fa-check"></i><b>15.6.1</b> Logistic regression</a></li>
</ul></li>
<li class="chapter" data-level="15.7" data-path="case-study-airbnb-listing-in-toronto.html"><a href="case-study-airbnb-listing-in-toronto.html#next-steps"><i class="fa fa-check"></i><b>15.7</b> Next steps</a></li>
<li class="chapter" data-level="15.8" data-path="case-study-airbnb-listing-in-toronto.html"><a href="case-study-airbnb-listing-in-toronto.html#references"><i class="fa fa-check"></i><b>15.8</b> References</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="ab-testing-and-rcts.html"><a href="ab-testing-and-rcts.html"><i class="fa fa-check"></i><b>16</b> A/B testing and RCTs</a><ul>
<li class="chapter" data-level="16.1" data-path="ab-testing-and-rcts.html"><a href="ab-testing-and-rcts.html#introduction-9"><i class="fa fa-check"></i><b>16.1</b> Introduction</a></li>
<li class="chapter" data-level="16.2" data-path="ab-testing-and-rcts.html"><a href="ab-testing-and-rcts.html#motivation"><i class="fa fa-check"></i><b>16.2</b> Motivation</a></li>
<li class="chapter" data-level="16.3" data-path="ab-testing-and-rcts.html"><a href="ab-testing-and-rcts.html#tea-party"><i class="fa fa-check"></i><b>16.3</b> Tea party</a></li>
<li class="chapter" data-level="16.4" data-path="ab-testing-and-rcts.html"><a href="ab-testing-and-rcts.html#some-unexpected-properties-from-randomised-sampling"><i class="fa fa-check"></i><b>16.4</b> Some unexpected properties from randomised sampling</a></li>
<li class="chapter" data-level="16.5" data-path="ab-testing-and-rcts.html"><a href="ab-testing-and-rcts.html#anova"><i class="fa fa-check"></i><b>16.5</b> ANOVA</a></li>
<li class="chapter" data-level="16.6" data-path="ab-testing-and-rcts.html"><a href="ab-testing-and-rcts.html#treatment-and-control"><i class="fa fa-check"></i><b>16.6</b> Treatment and control</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="matching-difference-in-differences.html"><a href="matching-difference-in-differences.html"><i class="fa fa-check"></i><b>17</b> Matching &amp; difference-in-differences</a></li>
<li class="chapter" data-level="18" data-path="regression-discontinuity-design.html"><a href="regression-discontinuity-design.html"><i class="fa fa-check"></i><b>18</b> Regression discontinuity design</a></li>
<li class="chapter" data-level="19" data-path="instrumental-variables.html"><a href="instrumental-variables.html"><i class="fa fa-check"></i><b>19</b> Instrumental variables</a></li>
<li class="chapter" data-level="20" data-path="further-topics-to-be-determined-by-student-interest-.html"><a href="further-topics-to-be-determined-by-student-interest-.html"><i class="fa fa-check"></i><b>20</b> Further topics: To be determined by student interest.</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data-first: Telling stories with data and quantitative analysis in R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="header">
<h1 class="title">Data-first: Telling stories with data and quantitative analysis in R</h1>
<h2 class="subtitle"><em>Course notes for INF2178</em></h2>
<p class="author"><em>Rohan Alexander</em></p>
<p class="date"><em>Last updated 27 February 2020</em></p>
</div>
<div id="overview" class="section level1">
<h1><span class="header-section-number">1</span> Overview</h1>
<div id="on-telling-stories" class="section level2">
<h2><span class="header-section-number">1.1</span> On telling stories</h2>
<p>Like many parents, when our child was born, one of the first things that my wife and I did regularly was read stories to him. In doing so we carried on a tradition that has occurred for millennia Myths, fables, and fairy tales can be seen and heard all around us. Not only are they entertaining but they enable us to easily learn something about the world. While ‘The Very Hungry Caterpillar’ may seem quite far from the world of quantitative analysis, there are similarities. Both are trying to tell the reader a story.</p>
<p>When conducting quantitative analysis we are trying to tell the reader a story that will convince them of something. It may be as exciting as forecasting elections, as banal as increasing internet advertising click rates by 0.01 per cent, as serious as finding the cause of some disease, or as fun as forecasting the winner of a basketball game. In any case the key elements are the same. When writing fiction <a href="https://en.wikipedia.org/wiki/Fiction_writing">Wikipedia suggests</a> there are five key elements:</p>
<ol style="list-style-type: decimal">
<li>Character</li>
<li>Plot</li>
<li>Setting</li>
<li>Theme</li>
<li>Style</li>
</ol>
<p>When we are conducting quantitative analysis we have the analogous concerns:</p>
<ol style="list-style-type: decimal">
<li>What is the data? Who generated it and how?</li>
<li>What is the data trying to say? How can we let it say this?</li>
<li>What is the broader context surrounding the data? Where and when was it generated? Could other data have been generated?</li>
<li>What are we hoping others will see from this data?</li>
<li>How can you convince them of this?</li>
</ol>
<p>In the past, certain elements of telling stories with quantitative data were easier. For instance, experimental design has a long and robust tradition within traditional applications such as agriculture, medicine, physics, and chemistry. Student’s t-distribution was identified by a chemist, William Sealy Gosset, who was working at Guinness and needed to assess the quality of the beer! And many of the fundamental methods that we use today were developed in an agricultural setting. In these settings, typically, it was possible to establish control groups, randomize, and easily deal with any ethical concerns. In such a setting any subsequent story that is told with the data is likely to be fairly convincing.</p>
<p>Unfortunately, such a set-up is rarely possible in modern data science applications. But, of course, there are many aspects that are much easier today including a focus on what can be said about causality even in the absence of a traditional experimental set-up, well-developed statistical techniques, easy access to datasets, and analysis languages such as R. As such we must turn to other aspects in order to tell a reader a story about our data.</p>
</div>
<div id="these-notes" class="section level2">
<h2><span class="header-section-number">1.2</span> These notes</h2>
<p>These notes focus on what to do when traditional experimental design methods cannot be implemented or are not appropriate. We focus on methods that can provide some measure of causality even when we cannot conduct traditional experiments. Importantly, these approaches do not rely on ‘big data’, but instead on better using the data that are available. The purpose of the notes is to allow you to tell convincing stories using data and quantitative analysis. They blend theory, examples, and labs, to equip you to with practical skills, a sophisticated workflow, and an appreciation for how more-advanced methods build on what is covered here.</p>
<p>Data science is multi-disciplinary. It takes the ‘best’ bits from statistics, data visualisation, programming and experimental design, (to name a few) and so data science projects require a blend of these skills. These are hands-on notes in which you will learn these skills by conducting research projects using real-world data. This means that you will:</p>
<ul>
<li>obtain and clean relevant datasets;</li>
<li>develop your own research questions;</li>
<li>use statistical techniques to answer those questions; and</li>
<li>communicate your results in a meaningful way.</li>
</ul>
<p>These notes were developed in collaboration with professional data scientists. They are designed around approaches that are used extensively in academia, government, and industry. Furthermore, they include many aspects, such as data cleaning and preparation, that are critical, but rarely taught. However, these notes do not contain everything that you need. Your learning must be ‘active’ when using these notes because that is the way you will continue to learn through the rest of your life and career. You need to seek out additional information and apply it to your situation.</p>
<p>The workflow that we follow is:</p>
<ol style="list-style-type: decimal">
<li>Research question development</li>
<li>Data collection</li>
<li>Data cleaning</li>
<li>Exploratory data analysis</li>
<li>Statistical modelling</li>
<li>Evaluation</li>
<li>Communication</li>
<li>Reproducibility</li>
</ol>
<p>All of these aspects are critical to being able to tell convincing stories in an absence of traditional experimental set-ups. Importantly, when you are doing causal analysis, you are trying to convince a reader of your story. Your ability to convince them of your story depends on the quality of all aspects of your workflow.</p>
<p>If we were to expand on this workflow then we roughly get the chapters that are covered in these notes. From the first chapter we will have a workflow (make a graph then write about it convincingly) that could allow us to speak to causality. In each subsequent chapter we add aspects and depth to our workflow that will allow us to speak with increasing sophistication and credibility.</p>
<!-- ## Software -->
<!-- The software that we use in these notes is R. This language was chosen becuase i -->
<!-- ## Acknowledgements -->
<!-- Many people gave generously of their time, code, and data to help develop these notes. Thank you to Monica Alexander, Michael Chong, and Sharla Gelfand for allowing their code to be used. Thank you to Kelly Lyons, Hareem Naveed, and Periklis Andritsos for helpful comments. Finally, thank you to the students of INF2178 at the University of Toronto, whose feedback greatly improved all aspects. -->
</div>
<div id="contact" class="section level2">
<h2><span class="header-section-number">1.3</span> Contact</h2>
<p>Any comments or suggestions on these notes would be welcomed. You can contact me: <a href="mailto:rohan.alexander@utoronto.ca" class="email">rohan.alexander@utoronto.ca</a>.</p>
</div>
<div id="todos" class="section level2">
<h2><span class="header-section-number">1.4</span> TODOs</h2>
<ul>
<li>Update logistic regression.</li>
<li>Change books case study.</li>
<li>Update Canadian elections case study.</li>
<li>Add example of making nice tables.</li>
<li>Improve reproducibility.</li>
<li>Separate developing research questions and gathering data.</li>
<li>Update research questions.</li>
<li>Update gathering data.</li>
<li>Simplify Paspaley.</li>
<li>Update Tidyverse lab.</li>
<li>Clean up Airbnb lab.</li>
<li>Add pre-quiz.</li>
<li>Add problem set.</li>
<li>Change all spelling to Canadian.</li>
<li>Fix references.</li>
<li>General tidy.</li>
</ul>
</div>
</div>
            </section>

          </div>
        </div>
      </div>

<a href="r-lab-getting-started.html" class="navigation navigation-next navigation-unique" aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
},
"search": false
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
